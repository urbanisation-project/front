<app-search-navbar></app-search-navbar>
<div class="container align-self-center ">
    <form class="p-2 mt-5 shadow rounded-2">
        <form #f="ngForm" (ngSubmit)="f.form.valid && updatePassword()" name="form" [formGroup]="form">
            <div class="form-outline mb-4">
                <label class="form-label mt-2" for="oldPassword">Old password</label>
                <input type="password" id="oldPassword" class="form-control mt-2" name="oldPassword" formControlName="oldPassword"
                       placeholder="Enter your old password"
                       [ngClass]="{ 'is-invalid': (isFormSubmitted && form.controls.oldPassword.errors) || (!form.controls.oldPassword.pristine && form.controls.oldPassword.invalid) }" />
                <div class="invalid-feedback"
                     *ngIf="(isFormSubmitted && form.controls.oldPassword.errors) || (!form.controls.oldPassword.pristine && form.controls.oldPassword.invalid)">
                    <div *ngIf="form.controls.oldPassword.errors?.['required']">Password is required</div>
                </div>
            </div>
            <div class="form-outline mb-4">
                <label class="form-label mt-2" for="newPassword">New password</label>
                <input type="password" id="newPassword" class="form-control mt-2" name="newPassword" formControlName="newPassword"
                       placeholder="Enter your new password"
                       [ngClass]="{ 'is-invalid': (isFormSubmitted && form.controls.newPassword.errors) || (!form.controls.newPassword.pristine && form.controls.newPassword.invalid) }" />
                <div class="invalid-feedback"
                     *ngIf="(isFormSubmitted && form.controls.newPassword.errors) || (!form.controls.newPassword.pristine && form.controls.newPassword.invalid)">
                    <div *ngIf="form.controls.newPassword.errors?.['required']">Password is required</div>
                    <div *ngIf="form.controls.newPassword.errors?.['minlength']">Minimum 8 characters required</div>
                </div>
            </div>

            <div class="col-md-12 text-center">
                <button type="button" id="submit" name="submit"  (click)="cancel()" class="btn btn-secondary">Cancel</button>
                <button type="button" id="submit" name="submit" (click)="updatePassword()" class="btn btn-primary">Update</button>
            </div>

        </form>
    </form>
</div>